---
layout: rambling
---

Keeping yourself secure in the modern age of digital computers and the internet
is a daunting task. While I like to think I'm somewhat sophisticated in this
regard, surely there are flaws in my approach, begging to be exploited and
abused. This is somewhat unavoidable, so as a general rule of thumb, **don't be
malicious**. The following is my current best practices for things that involve
information security.

### PGP (Pretty Good Privacy)

At the heart of my setup lies PGP (RFC 4880?), a suite of encryption technology
with well supported CLI and hardware applications. PGP allows creating
key-pairs with sub-keys (more on this later). GPG (the GNU implementation of
PGP) is used to encrypt data and manage authentication. We'll create a new
key-pair with 4096 bits. Entropy will be generated by doing the most unusual of
things to my computer in the process, you know, for security.

The primary private GPG key itself must be stored safely somewhere, like on a
keychain, and [rotated from time to
time](https://sungo.wtf/2016/11/23/gpg-strong-keys-rotation-and-keybase.html).

- TODO: Sub-key structure.

#### `pass`

I use `pass` for managing passwords and other secret data. The primary GPG
key will be used for this password store.

`pass` stores it's data in a plain ol' folder, making it work perfectly with
`git`. In fact `pass git ...` can be used to perform arbitrary commands from
anywhere on the system. We currently store user ids in the folder name, so the
repo **must** be private. I'm currently only storing this repo on devices and
syncing with either SSH, or a USB drive.

- TODO: How to use SSH to `git fetch` from another device.
- TODO: How to use a USB drive as a git remote.

`pass` shows each record like a file within the directory tree
(`~/.password-store` by default).

```
accounts/<url>/<username> -> <password>

├── accounts
│   ├── accounts.adafruit.com
│   │   └── nixpulvis
│   ├── aur.archlinux.org
│   │   └── nathan@nixpulvis.com
│   ├── bbs.archlinux.org
│   │   └── nixpulvis
│   ├── cloud.digitalocean.com
│   │   ├── sever1
│   │   │   ├── nixpulvis
│   │   │   └── root
│   │   └── nathan@nixpulvis.com
```

```
backup/<device> -> <password>
backup/<device>/key -> <borg_key>

├── backup
│   ├── wd2T
│   │   └── key
│   └── wd2T
```

Other things can be saved too, like tax, healthcare, finance, or any other
sensitive information.

```
<note>/* -> <note>

├── health
│   └── ...
└── taxes
    ├── 2017
    └── 2018
```

- TODO: `-c` support.

#### SSH (Secure Shell)

SSH keys should named, with the following format: `nixpulvis@<hostname>`. Each
key will be saved by name in a `pass` directory called `SSH`. This way we can
control access to individual hosts.

- TODO: Implement this.

### PII (Personally Identifiable Information)

Things like my SSN, healthcare IDs and other various sensitive information
should be included in `pass` and nowhere else. In a system of cryptographically
ensured ownership semantics (QM?), it'd be very cool to ensure these values
"lived", for lack of a better word, in my `pass` repo.

### Storage

The `.password-store` data will live on each machine, an encrypted USB drive
and a private repo hosted somewhere good and encrypted.

### Backup

I'll be using [`borg`](https://www.borgbackup.org/) to backup my machines, this
data is encrypted using a key and password that should live in `pass`. There
are a few types of Borg backups to support:

**Blue-ray Disk Drive Backup**
- `borg` key and `pass` password stored on disk
- `keyfile*`
- Long term
- Long write time
- Manual disk drive interaction

**Local HDD/SSD Backup**
- `borg` key and `pass` password stored on device, if trusted and stored safely
- either `repokey*` or `keyfile*`
- Short term
- Fast
- Manual HDD/SSD interaction

**Remote Backup (Digital Ocean?)**
- `borg` password stored in `pass`, no key stored at all
- `repokey*` stored in `pass`
- Long term but less trustworthy
- Network write time fluctuates
- Automatic
